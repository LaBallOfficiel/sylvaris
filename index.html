<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sylvaris - Saison 2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- √âcran de connexion -->
    <div id="login-screen">
        <div class="login-container pixel-border">
            <h1 class="login-title">SYLVARIS - SAISON 2</h1>
            <div class="input-group">
                <label>Pseudo Minecraft Bedrock</label>
                <input type="text" id="username" placeholder="Entre ton pseudo..." autocomplete="off">
            </div>
            <button class="btn pixel-border" onclick="login()">Se connecter</button>
            <div class="error-message" id="error-message">Acc√®s refus√©. Pseudo non autoris√©.</div>
        </div>
    </div>

    <!-- Application principale -->
    <div id="main-app">
        <div class="header">
            <img src="logoS.png" alt="Logo Sylvaris" class="logo" id="server-logo">
            <div class="user-info">Connect√© en tant que <span id="current-user"></span></div>
        </div>

        <div class="container">
            <div class="sidebar">
                <div class="menu-item active" data-section="accueil">Accueil</div>
                <div class="menu-item" data-section="regle">R√®gle</div>
                <div class="menu-item" data-section="creer-royaume">Cr√©er un royaume</div>
            </div>

            <div class="content">
                <!-- Section Accueil -->
                <div class="content-section active" id="accueil">
                    <div class="welcome-box pixel-border">
                        <h2>üåç Serveur Minecraft Bedrock RP ‚Äì Realms</h2>
                        <p>Rejoins un serveur RolePlay unique o√π tu peux cr√©er ou rejoindre un royaume, b√¢tir ton territoire, √©crire ton lore et interagir avec les autres joueurs par la diplomatie, le commerce ou la guerre.</p>
                        <p>Chaque banni√®re repr√©sente un royaume, chaque d√©cision a des cons√©quences. Un monde vivant, libre, strat√©gique et enti√®rement fa√ßonn√© par les joueurs.</p>
                        <p><strong>üëâ Ton royaume. Ton histoire. Ton monde.</strong></p>
                    </div>
                </div>

                <!-- Section R√®gle -->
                <div class="content-section" id="regle">
                    <div class="welcome-box pixel-border">
                        <h2>üìú R√®glement Officiel du Serveur</h2>
                    </div>

                    <div class="rules-container">
                        <!-- R√®gle 1 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(1)">
                                <span>1. ü§ù R√®gles G√©n√©rales de Conduite</span>
                                <span class="arrow" id="arrow-1">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-1">
                                <ul>
                                    <li>Le respect entre les joueurs est obligatoire. Aucun propos discriminatoire, insultant ou provocateur ne sera tol√©r√©.</li>
                                    <li>Le harc√®lement, les menaces ou comportements toxiques sont strictement interdits.</li>
                                    <li>L'usage de cheats, mods non autoris√©s, ou toute forme de triche est interdit.</li>
                                    <li>Respectez toujours les d√©cisions de l'administration et des mod√©rateurs.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 2 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(2)">
                                <span>2. üëë Royaumes et Banni√®res</span>
                                <span class="arrow" id="arrow-2">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-2">
                                <p><strong>Pour cr√©er un royaume, vous devez :</strong></p>
                                <ul>
                                    <li>Cr√©er un embl√®me unique sur une banni√®re.</li>
                                    <li>Enregistrer votre royaume et son embl√®me sur le serveur Discord.</li>
                                </ul>
                                <p><strong>R√®gles des banni√®res :</strong></p>
                                <ul>
                                    <li>Tout b√¢timent arborant l'embl√®me d'un royaume est consid√©r√© comme appartenant √† ce royaume.</li>
                                    <li>Un b√¢timent sans embl√®me peut √™tre conquis en y posant une banni√®re visible de votre royaume.</li>
                                    <li>‚ö†Ô∏è Un b√¢timent sans aucune banni√®re est consid√©r√© comme abandonn√© : il n'appartient √† personne et peut √™tre d√©truit, modifi√© ou r√©utilis√© librement.</li>
                                    <li>Un b√¢timent peut appartenir √† plusieurs royaumes si plusieurs banni√®res sont pr√©sentes (partage officiel).</li>
                                </ul>
                                <p><strong>Fronti√®res :</strong></p>
                                <ul>
                                    <li>Les royaumes peuvent d√©finir des fronti√®res par pose de blocs (max 4 cartes en jeu), qui doivent contenir la banni√®re du royaume.</li>
                                    <li>Seul le royaume propri√©taire de la fronti√®re peut construire √† l'int√©rieur, sauf accord.</li>
                                    <li>Les b√¢timents √† l'int√©rieur de la fronti√®re n'ont pas besoin d'arborer une banni√®re, sauf s'ils appartiennent √† un autre royaume.</li>
                                </ul>
                                <p><strong>Destruction de banni√®res :</strong></p>
                                <ul>
                                    <li>Les banni√®res ne peuvent √™tre d√©truites qu'en cas de guerre officielle, lors d'une vente, ou par d√©cision du chef du royaume.</li>
                                </ul>
                                <p><strong>Zones libres :</strong></p>
                                <ul>
                                    <li>Les zones hors royaumes et spawn sont libres : pvp, TNT, et construction/d√©construction sont soumis uniquement aux r√®gles g√©n√©rales du serveur.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 3 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(3)">
                                <span>3. ‚öîÔ∏è War Zone (zones hors royaumes & hors spawn)</span>
                                <span class="arrow" id="arrow-3">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-3">
                                <ul>
                                    <li>La War Zone correspond √† toute zone situ√©e en dehors des fronti√®res officielles des royaumes et du spawn.</li>
                                    <li>Dans cette zone, TNT, constructions, destructions, pillages et PvP sont libres, tant que les r√®gles g√©n√©rales du serveur (respect, anti-triche, etc.) sont respect√©es.</li>
                                </ul>
                                <p><strong>Syst√®me de combat :</strong></p>
                                <ul>
                                    <li>D√®s qu'un joueur inflige un coup √† un autre en War Zone, les deux entrent en √©tat de combat.</li>
                                    <li>Pendant cet √©tat, toute forme de t√©l√©portation (home, warp, /tpa‚Ä¶) est interdite.</li>
                                    <li>Le combat se termine si aucun coup n'est port√© durant 10 minutes ou si l'un des deux joueurs meurt.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 4 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(4)">
                                <span>4. üìñ Lore & R√¥leplay des Royaumes</span>
                                <span class="arrow" id="arrow-4">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-4">
                                <ul>
                                    <li>Chaque royaume peut d√©velopper son histoire, ses valeurs, et son style architectural.</li>
                                    <li>Un canal Discord d√©di√© pourra pr√©senter chaque royaume.</li>
                                    <li>Les r√©cits RP (guerres, l√©gendes, coutumes) sont encourag√©s.</li>
                                    <li>Les joueurs doivent incarner leur r√¥le de mani√®re coh√©rente : parole, tenue, comportement et constructions.</li>
                                    <li>Des √©v√©nements RP (festivals, √©lections, alliances, c√©r√©monies‚Ä¶) peuvent √™tre organis√©s librement ou avec l'accord du staff.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 5 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(5)">
                                <span>5. üí± √âconomie & Monnaies</span>
                                <span class="arrow" id="arrow-5">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-5">
                                <ul>
                                    <li>Chaque royaume peut choisir sa monnaie officielle parmi les ressources du jeu (or, fer, pyronite, orsteel, etc.).</li>
                                    <li>Les royaumes peuvent √©tablir des taux de conversion et signer des trait√©s commerciaux.</li>
                                    <li>Les marchands et guildes peuvent commercer librement hors royaumes.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 6 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(6)">
                                <span>6. üè¥ Pillage et R√®gles de Bases</span>
                                <span class="arrow" id="arrow-6">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-6">
                                <p><strong>Le pillage est autoris√© mais encadr√© :</strong></p>
                                <ul>
                                    <li>Interdiction formelle de casser, br√ªler ou faire exploser des blocs (TNT, feu, etc.) sur le pillage dans une zone de royaume.</li>
                                    <li>Le pillage doit se faire par un passage pr√©vu ou une faille existante (porte non verrouill√©e).</li>
                                    <li>Tout bloc cass√© accidentellement doit √™tre remis en place imm√©diatement.</li>
                                    <li>Chaque base doit disposer d'un acc√®s clairement identifiable vers toutes ces zones.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 7 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(7)">
                                <span>7. ‚öîÔ∏è Guerre entre Royaumes</span>
                                <span class="arrow" id="arrow-7">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-7">
                                <p><strong>D√©claration de guerre :</strong></p>
                                <ul>
                                    <li>La guerre doit √™tre d√©clar√©e officiellement sur Discord avec : le nom du royaume cibl√©, la raison du conflit, et la r√©compense promise en cas de victoire.</li>
                                </ul>
                                <p><strong>D√©roulement :</strong></p>
                                <ul>
                                    <li>Valid√©e par l'administration, la guerre se d√©roule en plusieurs phases.</li>
                                    <li>Un quota de points, fix√© par le staff, d√©termine la victoire.</li>
                                    <li>La guerre s'arr√™te d√®s qu'un camp atteint ce quota, m√™me si toutes les phases ne sont pas termin√©es.</li>
                                </ul>
                                <p><strong>Phases :</strong></p>
                                <ul>
                                    <li><strong>Phase 1 :</strong> üó°Ô∏è PvP (combat entre joueurs, aucune destruction)</li>
                                    <li><strong>Phase 2 :</strong> üß± Ressources & Technologie (√©valuation richesse et tech)</li>
                                    <li><strong>Phase 3 :</strong> üí£ Bombardement (explosifs autoris√©s, destruction possible sur b√¢timents ennemis avec banni√®re)</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 8 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(8)">
                                <span>8. üíæ Sauvegardes & Backups</span>
                                <span class="arrow" id="arrow-8">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-8">
                                <ul>
                                    <li>Les admins r√©alisent r√©guli√®rement des sauvegardes pour garantir la s√©curit√© des donn√©es.</li>
                                    <li>Certains griefs peuvent √™tre annul√©s ou r√©par√©s selon la gravit√© et les preuves.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 9 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(9)">
                                <span>9. üë• Comptes secondaires (Multicompte)</span>
                                <span class="arrow" id="arrow-9">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-9">
                                <ul>
                                    <li>Un seul compte principal par joueur est autoris√©.</li>
                                    <li>Les comptes secondaires doivent √™tre d√©clar√©s √† l'administration.</li>
                                    <li>L'usage des comptes secondaires pour tricher (espionnage, multi-farming, √©vasion sanctions) est interdit.</li>
                                    <li>Tous les comptes doivent respecter le r√®glement.</li>
                                    <li>Les sanctions s'appliquent √©galement aux comptes secondaires et peuvent toucher le principal.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- R√®gle 10 -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(10)">
                                <span>10. ‚ùó R√®gles additionnelles</span>
                                <span class="arrow" id="arrow-10">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-10">
                                <ul>
                                    <li>Il est interdit de poser des coffres isol√©s, non int√©gr√©s √† un b√¢timent ou campement.</li>
                                    <li>√ätre AFK plus de 15 minutes est interdit.</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Sanctions -->
                        <div class="rule-item pixel-border">
                            <div class="rule-header" onclick="toggleRule(11)">
                                <span>üõ°Ô∏è Sanctions & Mod√©ration</span>
                                <span class="arrow" id="arrow-11">‚ñº</span>
                            </div>
                            <div class="rule-content" id="rule-11">
                                <ul>
                                    <li>Tout non-respect du r√®glement peut entra√Æner : avertissements, bannissements temporaires ou permanents selon la gravit√©.</li>
                                    <li>Pour toute question, contactez le staff via Discord.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Cr√©er un royaume -->
                <div class="content-section" id="creer-royaume">
                    <div class="form-box pixel-border">
                        <h3>Cr√©er un nouveau royaume</h3>
                        <form id="kingdom-form" onsubmit="createKingdom(event)">
                            <div class="form-field">
                                <label>Nom du royaume</label>
                                <input type="text" id="kingdom-name" required>
                            </div>
                            <div class="form-field">
                                <label>Pseudo du roi</label>
                                <input type="text" id="king-name" required>
                            </div>
                            <div class="form-field">
                                <label>Logo du royaume</label>
                                <input type="file" id="kingdom-logo" accept="image/*" required>
                            </div>
                            <div class="form-field">
                                <label>Type de monnaie</label>
                                <select id="currency-type" required>
                                    <option value="">S√©lectionne une monnaie</option>
                                    <option value="emeraude">√âmeraude</option>
                                    <option value="diamant">Diamant</option>
                                    <option value="or">Or</option>
                                    <option value="netherite">Netherite</option>
                                    <option value="custom">Personnalis√©e</option>
                                </select>
                            </div>
                            <button type="submit" class="btn pixel-border">Cr√©er le royaume</button>
                            <div class="success-message" id="create-success">Royaume cr√©√© avec succ√®s!</div>
                        </form>
                    </div>

                    <!-- Gestion du royaume (visible apr√®s cr√©ation) -->
                    <div id="kingdom-management" style="display: none;">
                        <div class="kingdom-info pixel-border">
                            <div class="kingdom-header">
                                <img id="display-logo" class="kingdom-logo" src="" alt="Logo">
                                <div class="kingdom-title">
                                    <h2 id="display-kingdom-name"></h2>
                                    <p>Roi: <span id="display-king-name"></span> | Monnaie: <span id="display-currency"></span></p>
                                </div>
                            </div>

                            <div class="form-field">
                                <label>R√©sidents du royaume</label>
                                <ul class="residents-list" id="residents-list"></ul>
                                <div class="add-resident-form">
                                    <input type="text" id="new-resident" placeholder="Pseudo du r√©sident...">
                                    <button class="btn-small pixel-border" onclick="addResident()">Ajouter</button>
                                </div>
                            </div>

                            <div class="form-field">
                                <label>Lois du royaume</label>
                                <textarea id="kingdom-laws" placeholder="√âcris les lois de ton royaume..."></textarea>
                                <button class="btn-small pixel-border" onclick="saveLaws()" style="margin-top: 10px;">Sauvegarder les lois</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button class="logout-btn pixel-border" onclick="logout()">D√©connexion</button>
    </div>

    <script src="script.js"></script>
</body>
</html>